- 数据分析
  collapsed:: true
	- 数据的探索与清理，
	- 拟合统计模型，
	- 评估拟合结果，评估预测结果，形成报告，
- @统计分析
  collapsed:: true
	- 统计假设
	  collapsed:: true
		- 基本概念
		  collapsed:: true
			- 统计假设是统计分析和推断的基础，面对数据时，一般需要先用探索性分析检验某些重要的假设是否满足，
			- 尽管部分统计过程对偏离默认假设的数据具有一定的稳定性（robust），但对数据进行检验仍然是重要的，
			- 数据的图形表达可以很好的帮助理解问题的统计本质，
		- 基本统计量
		  collapsed:: true
			- 累计频率F，分位数Yα，y的密度值（似然度）
				- 累计频率即F（y）=P（Y≤y），
				- 分位数Yα的计算与累计频率相反，即给定累计频率对应的y值，
				- y的密度即pdf对应的y值，这个值并没有太多理论意义，但可以作为似然函数的值（L=Πf(y)）来进行推断，
		- 正态性假设
		  collapsed:: true
			- 正态分布具有较优良的性质，这体现在仅用两个参数就可以完全的描述分布；此外，中心极限定理保证了正态分布的使用的广泛性，
			- 统计量
				- pnorm可以用于计算累计频率，参数为（y，mean=μ， sd=σ2），
				- qnorm可以用于计算分位数，参数为（y，mean=μ， sd=σ2），
				- dnorm可以用于计算y的密度值，参数为（y，mean=μ， sd=σ2），
			- 图形方法
				- 直方图：可以用来检验数据的分布是否基本对称，
					- hist函数可以用于生成直方图，
				- 正态分位数-分位数图（Q-Q图）：？，若样本来自于正态分布，则图形会表现为一条直线（截距为μ，斜率为σ），
					- qqnorm和qqplot函数（需要car包）可以输出q-q图，
		- 独立性假设
		  collapsed:: true
			- 如果变量之间不独立，那么就会使得估计出现一定的误差（例如均值可能会明显偏大或偏小，而方差则会明显偏小），
			- 散点图或线性回归图可以用来评估变量之间的独立性；若数据是按照事件手机的，则可以绘制时间序列图来检查是否存在自相关，
			- 综合来看，一般难以仅用观测数据来评估独立性；更重要的是对数据的采集方法的分析，
		- 方差齐性检验
		  collapsed:: true
			- 对于正态分布，方差相等时的推断较为容易，而方差不等时的推断则比较复杂，所以很多推断都建立在方差相等的基础上；因此，在分析数据前一般需要对方差进行检验，
			- bartlett.test可以用来进行方差齐性检验；此外，R中也提供了其它检验方法（如Fligner-Killeen检验（fligner.test()函数）和Brown-Forsythe检验（HH包中的hov()函数）），
			- 方差齐性分析对离群点非常敏感。可利用car包中的outlierTest()函数来检测离群点，
	- 探索性数据分析
	  collapsed:: true
		- 在进行数据分析前，应当首先对数据可能的分布、数据间的潜在关系和数据中可能存在的问题（如缺失值、离群值等）进行初步的探索性分析，
		- 单组数据
			- 直方图可以直观的展示数据的分布情况，并且可以通过其形状拟合pdf的图形；然而，直方图的形状多少会受到分组个数的影响，因此可能导致误判，
			- 分位数图可以更准确的反应数据的分布，但其形状反映的为cdf的图形，因此并不如直方图一样直观，
			- 箱型图可以直观的展示出数据集的主要统计量（均值、中位数、四分位数等），也可以显示出可能的离群值；此外，中位数和平均值的位置也可以用来判断分布是否近似对称，
		- 多组数据
			- Q-Q图：比较两组数据的分布；
				- 若两个分布相同，则Q-Q图就会基本形成一条斜率为1、截距为0的直线（y=x）；若形成的图形斜率为1，但截距不为0（y=x+b），则说明两个分布的均值相差一个常数，但标准差相近；若形成的图形斜率不为1，但截距为0（y=kx），则说明两个分布的均值存在比值关系，但标准差相近；
				- 若Q-Q图不能形成一条直线，则说明两个分布之间存在着较大的差异，
			- 双变量散点图：分析两组数据之间的相关性，
				- 线性相关是数据间最基础的关系，但并非任意存在相关的两组数据都的相关性都为线性，直接拟合线性关系可能会导致误判，可以考虑加入局部回归线来辅助分析，
			- 双变量散点图矩阵：对多组数据进行初步分析，
				- 其中，矩阵的对角线元素（aii）处展示的为各组数据的直方图；矩阵的其它元素（aij）展示的则是第i个因素和第j个因素的双变量散点图，
				- 需要注意，双变量散点图只能对两个变量间的关系进行初步判断，但多个变量之间往往存在交互关系，而这一点难以从散点图中直接看出，
			- 分类双变量散点图
				- 为了排除多因素间的可能交互作用，可以选取一个因素为分类变量，并在该变量的每个水平下绘制另外两个变量的双变量散点图，
					- 例如，臭氧浓度受到温度、风速的综合影响；如果希望分析风速对臭氧浓度的影响，就可以将温度划分为多个区间，再在每个区间内分别绘制臭氧浓度-风速双变量散点图，
			- 变量转换
				- 在双变量散点图中，原始数据可能没有表现出明显的关系。此时可以对某个变量进行转换，
				- 例如，部分散点图中数据点会较密集的分布在某一区域，这可能是因为x/y变量的取值范围差异较大；因此可以采取对取值范围较大的变量取对数，以缩小其取值范围，再进一步分析变量间的可能关系，
				- 幂变换是一种常用的变换，其形式为y'=y^λ；λ可以取多个值（如2、1/2、-1等）；可以通过尝试多个不同的λ值，以使变换后的变量的正态Q-Q图更接近于正态分布，并得出最适合的λ值，
					- 对数变换可以看作λ=0时的特殊的幂变换，
	- 统计学思维
	  collapsed:: true
		- 现实数据一般较为复杂，多种模型都可能对观测数据进行比较准确的描述，因而不应武断的对某个模型的准确度做出判断，
		- 可证伪性是十分重要的，相比于模型可以解释的关系，模型所没能解释的差异也应该得到准确的度量。
		- 传统的数学思维的核心是演绎推理，即从给定的信息开始，通过严谨的逻辑推断得到结论；虽然统计学也是基于数学的学科，但是统计学更偏重归纳推理，即通过给定的信息对可能的后果做出推测，并利用其它信息对推测进行证实或证伪，
	- 统计推断
	  collapsed:: true
		- 统计学的目的是试图寻找可能产生所观测到的数据的概率分布。一般情况下，一个概率分布可以用有限个参数来确定，因此寻找到可能的概率分布以后，关键点就变为了寻找参数的具体取值，
		- 样本统计量
			- 样本均值、样本方差、样本标准误（se、σ/n^(1/2))
		- 总体参数的估计（点估计与置信区间）
			- 中心极限定理指出，对任意随机变量，当样本量足够大时，样本均值的分布都近似于正态分布，且其均值为总体均值，方差为总体方差/样本量，
				- “足够大”的样本量并非指某个精确数字，模拟数据显示，不同的分布收敛于正态分布的速度不同，因此不应盲目的相信n多大就足够的具体建议，
			- 然而，一般总体均值和方差都是未知数；考虑用样本方差估计总体方差，则分布由正态分布变为t分布，其参数（自由度）为n-1，
			- 总体的方差可以用样本的方差估计；若样本来自于正态分布，则样本方差和总体方差的比值为服从卡方分布的变量，其参数（自由度）为n-1，
		- bootstrap（自助法）
			- 原因：部分情况下，样本的准确分布不确定，因而难以对统计量进行建模和参数估计，
			- 需求：样本应有一定的代表性，且样本量比较大，
			- 基本原理：将样本看成总体， 从样本中再进行随机抽样；然后，就可以利用新生成的多个“样本”计算希望得到的统计量的取值，并建立置信区间，
				- 若分布可以看作近似正态的，则可以考虑利用t分位数来构造置信区间；t区间可以得到很好的理论支撑，但其稳定性不足，
				- 若对分布的了解不足，则可以依据自举统计量的百分点构造置信区间；百分比区间的稳定性较强，但很难用统计理论进行分析，
			- boot包提供了关于自助法的函数，
		- 假设检验
			- 检验的类别：单样本t检验、双样本t检验、Welch的t检验；单侧假设检验、双侧假设检验，
			- 检验的基本过程
				- 建立竞争性的两个假设、确定可接受的错误概率α、确定水平α对应的拒绝域、计算统计量的值、判断是否接受假设，
			- 非参数假设检验
				- 非参数检验的基本方法为秩变换，即利用数据的排序来替换其取值，
				- wilcox符号检验（检验单样本的位置测量是否等于某个特定数值）、秩和检验（检验双样本的中位数是否相等）
				- 统计学家Box指出，在进行统计检验时，数据不满足正态性假设所带来的误差要小于数据间不能满足独立性所带来的误差。换言之，他认为应该保证实验设计和数据收集过程的独立性，而不是致力于推导非正态情境下的其它推断方式，
			- 检验的参数
				- 作者认为，不应混淆p值和水平α之间的区别。首先，p值虽然可以用于拒绝零假设，但不能用于接受某个备择假设（一般备择假设为复合假设）；其次，p值与样本的关系密切，因此一次检验得到的p值的大小与假设的正确性程度没有直接联系，换言之，人们可能会高估p值的含义。因此，作者建议使用水平α，只要数据落入由α确定的拒绝域就对假设做出判断，
				- 在确定水平α之后，一般还需要确定功效β；β的取值一般与样本量有关，因此可以由希望得到的β值确定需要调查的样本量n，
				- 作者指出，对功效β的理解也有一定的争议。有的统计学家认为，若检验的结果为接受H0，则功效β也应提供一些支持H0的证据；然而，备择假设一般是一组假设，而且功效β要受到样本数量的影响。因此，β值与p值一样，其所提供的信息不应被过度解读。
		- 单因素方差分析
			- t检验难以对多组需要比较的数据进行检验。首先，需要多次t检验才能考虑到所有组的数据；其次，在多组相交的检验中发生错误I的概率会增加。因此，一般利用方差分析方法来检验多组数据，
			- 基于假设检验的解释
				- 假设：H0（各个均值都相等）vs H1（存在某个均值不等）
				- 检验统计量
					- 若H0为真，则代表组内样本均值与总体均值很接近，且组内的方差也与总体方差接近——换言之，即各个组之间的方差接近于0——因此，方差分析的直观统计量为组间方差/组内方差（MSG/MSE）。经计算，在H0成立时，该统计量具有自由度为（k-1，N-k）的F分布，
				- 方差分析的假定
					- 理论上，方差分析检验对残差有一定的要求：正态分布、方差相等、相互独立。Q-Q图可以用来检验正态性，S-L图可以用来检验方差齐性；相比之下，独立性的评估则比较困难，一种方法是绘制多组残差-均值图，观察残差的分布是否会随均值的变化而变化，
					- 在实际调查中，残差数据一般很难完美满足方差分析的要求。对此，常用的方法是对响应变量做幂变换；然而，部分变换可能会得到分布完美的数据，但对数据的解释会产生困难，
				- 多重比较
					- 相比于方差分析的零假设，研究者更希望分析不同的水平之间的具体差异的特征；多重比较可以用于逐个比较每组均值之间的差异，
					- 多重比较从某种意义上类似于重复进行多组t检验，因而面临的问题也是水平α的增加。一种解决问题的方式为Bonferroni方法，即设置αt=α/C。其中，C为需要进行的检验次数，αt为设置每次检验的水平，α希望控制的总体水平。
					- Tukey-HSD检验，Fisher-LSD检验，
					- 虽然存在多种改善多重比较的检验方法，但是仍有研究者指出，不应对检验得到的结果过于自信，因为水平α的变化会使置信区间变宽，从而增加了不确定性；此外，多重比较的准确性也会受到样本量的影响，
					- multcomp包中的glht()函数提供了多重均值比较更为全面的方法，既适用于线性模型，也适用于广义线性模型。
- 基本编程语法
  collapsed:: true
	- R是解释型语言，因此其使用方式类似python，即可以在交互界面对数据直接进行运算，
	- R语言区分大小写，
	- 可以使用；分隔同一行的多个语句，如`x <- 10; y <- 20; z <- 30`，
- 数据类型
	- 数据类型
	  collapsed:: true
		- 类型
		  collapsed:: true
			- 主要为数值型，字符型，复数型和逻辑型 ；
			- mode函数，typeof函数，class函数都可以返回对象的类型，但三者有一定差异，
		- 长度
		  collapsed:: true
			- 对象中元素的数目；
			- length函数可以返回对象的长度，
		- 数据类型转换
		  collapsed:: true
			- `is.numeric(var1)`可以判断`var1`是否为对应数据类型，返回TRUE或FALSE；
			- `as.numeric(var1)`可以将`var1`转换为对应的数据类型，
	- 数据结构
	  collapsed:: true
		- 向量
		  collapsed:: true
			- 用于存储数值型，字符型或逻辑型数据的一维数组；所有元素的格式需要相同，
			- R中的数学函数可以作用于向量，
		- 矩阵
		  collapsed:: true
			- 二维数组，且所有元素的格式需要相同，
			- `matrix(data = 1, nrow = 2, ncol = 3, byrow = FALSE)`会生成所有元素都是1的2*3的矩阵，
			- `data`参数也可以接受序列，并默认按列`byrow = FALSE`将其填充进矩阵，
		- 数据框
		  collapsed:: true
			- 类似矩阵，但其中的元素可以有不同的模式，
			- data.frame函数可以创建数据框，
			- names函数可以将给定的标签逐个赋给给定的向量中的元素，
		- 列表
		- 时间序列
	- 数据框的运算
	  collapsed:: true
		- order函数可以对数据框进行排序，
		- merge函数可以依据参数by指定的标识横向合并两个数据框；
		- cbind函数可以直接横向合并两个矩阵或数据框，rbind函数则可以纵向合并两个数据框，
	- 选择指定数据
	  collapsed:: true
		- 下标
		  collapsed:: true
			- R中的下标从1开始，而不是0，
			- [i, j]表示第i行第j个元素，[i:j]选择第i到第j个元素，
			- $符号可以选择给定数据框中的某个特定变量，
		- 随机样本
		  collapsed:: true
			- sample函数可以从数据集中（有放回或无放回地）抽取大小为n的一个随机样本。
		- 因子
		  collapsed:: true
			- factor函数可以将不同的类别值转换为整数并存储起来，
			- 函数的默认顺序为字母表顺序，可以通过levels参数自定义顺序，
- R语言环境管理
  collapsed:: true
	- 环境变量
	  collapsed:: true
		- ls()和object()函数可以显示环境中的所有变量，
		  collapsed:: true
			- pattern属性
			  collapsed:: true
				- 可以显示带有某个特定字符的变量，
				- `ls(pat = "m")`会显示名称中含有m的变量，
			- max.level属性
			  collapsed:: true
				- 可以规定显示对象的级别的数量，如`ls(max.level = -1)`，
				- 在对象中包含数据框、矩阵等复杂对象时，全部显示可能会产生很长的结果，
			- str方法
			  collapsed:: true
				- `ls.str()`会显示对象的详细信息，
				- 默认显示所有对象，也可以在方法中利用pattern属性显示指定对象的信息，如`ls.str(pat = "m")`，
		- rm()函数可以删除指定的对象，
		  collapsed:: true
			- list属性
				- 可以与ls函数组合使用，如`rm(list=ls(pat="m"))`，
				- `rm(list=ls())`会删除内存中的所有对象，
		- options函数可以显示或设置当前选项，
	- 库
	  collapsed:: true
		- R函数一般被封装在库（library）中，存放在安装位置的library目录下，
		- 可以直接通过R程序中的“程序包”菜单对包进行操作，也可以利用函数，
		  collapsed:: true
			- search函数可以返回当前环境中已经载入的包，
			- R环境一般在启动时只会加载默认的包，library函数可以载入已下载但未载入的包，
			- install.package函数可以安装对应的包，update.packages可以更新已经安装的包，installed.packages函数会列出安装的包以及它们的信息，
- 数据操作
	- 基本运算
	  collapsed:: true
		- 赋值
		  collapsed:: true
			- R中的默认赋值符号为`a <- num`，
			  collapsed:: true
				- 箭头方向相反也可以,
				- 虽然可以用等号赋值，但在部分情况下可能会出现问题，
			- 可以使用`a <- c(num1, num2, ...)`接受多个数值作为参数，
		- 生成序列
		  collapsed:: true
			- `x <- scan()`可以提供输入框，并读取用键盘输入的数据，
			- `x <- rep(1, 5)`长度为5的重复序列（即1, 1, 1, 1, 1），
			- `x <- seq(length = 5, from = 1, to = 5)`会生成从1到5的间隔相同，长度为5的序列（即1, 2, 3, 4, 5），
			- `x <- gl(k, n)`生成n*k个变量的序列，分为k个水平，每个水平重复n次；
		- 数学运算
		  collapsed:: true
			- R中的乘方用`^`表示，
			- 默认除法`/`为浮点数除法，求余除法为`%%`，整除除法为`%/%`，
			- `sqrt(n)`函数为开方运算，
		- 逻辑运算
		  collapsed:: true
			- 类似其它编程语言，
	- 数据整理
	  collapsed:: true
		- NA表示缺失数据，Inf/-Inf表示无穷值（如5/0），NaN表示非数字值，
		- 转义字符
		  collapsed:: true
			- 反斜`\`后的字符为转义字符，如`\n`表示新行， `\b`为退格，
			- 可以通过?Quotes了解更多，
		- 重编码
		  collapsed:: true
			- 首先应确定有错误的或未记录的值，并统一编码为缺失值（NA），
			  collapsed:: true
				- 在变量后加上[]的赋值语句仅在[]内的语句为TRUE时执行赋值，
				- is.na()函数接受一个变量并返回一个同样大小的变量，其中缺失值的位置被改写为TRUE，而不是缺失值的位置则为FALSE。
				- R中的缺失值（NA）不同于无穷大的数（Inf）和不能计算的数（NaN），因而不能用is.na函数判断；此外，缺失值是无法进行比较的，即不能用布尔等式==判断，
				- R函数默认不会排除NA，因此若数据中有NA，则计算的结果也为NA；部分函数提供了可选参数na.rm = TRUE，从而可以在计算前移除缺失值；细节可以参考函数的帮助文档，
			- 然后一般需要按一定规律，将连续的值划分为多个区间，
			  collapsed:: true
				- within函数类似with函数，但可以对数据框进行修改，
	- 数学函数
	  collapsed:: true
		- 基本数学函数
		  collapsed:: true
			- 运算函数：abs, floor, cos/sin,log等，
			- 统计函数：mean, median, var等，
		- 概率函数
		  collapsed:: true
			- 生成随机序列
			  collapsed:: true
				- 函数的基本形式为rfunction(n, θ1, θ2, ...)，
				- function为具体分布名称，n为需要的数据个数，θ为分布的参数，
				- 部分分布函数具有默认参数值；而对于没有默认参数值的分布函数，则需要手动输入参数，否则会报错，
				- ![image.png](../assets/image_1672718579116_0.png)
				- dfunc可以返回随机变量对应的pdf的值，pfunc返回随机变量对应的cdf的值，qfunc则返回分位数对应的随机变量值，
		- 统计分析函数
		  collapsed:: true
			- summary函数可以返回统计量的一个概述，包括最小值、最大值、四分位数和数值型变量的均值，以及因子向量和逻辑型向量的频数统计。
			- scale函数接受一个数值型向量，并返回均值为0、标准差为1的标准化变量，
			- table函数可以生成频数频率表，
	- 字符串函数
	  collapsed:: true
		- `substr`, `strsplit`等，
	- 控制语句
	  collapsed:: true
		- R中的for语句和while语句通过（）接受条件，
		  collapsed:: true
			- R中的for语句效率不高，因此一般利用apply函数来实现重复操作，
		- if-else语句和简化版的ifelse语句同样通过（）接受条件，
		- switch语句根据表达式的值选择语句执行，
	- 自定义函数
		- 基本语法为`func1 <- function(para1, para2){statements}`，
		-
	- 其它
	  collapsed:: true
		- `exp1 <- expression(statements)`会存储表达式`statements`，而不是立刻计算，`eval(exp1)`函数可以利用环境中给定的变量取值计算表达式，
		- transform函数接受一个数据集和具体运算作为参数，根据具体运算在原有数据集后加上新的数据向量，并返回新的数据集，
		- edit函数可以调出允许手动输入数据的文本编辑器；但需要首先建立一个（空白的）数据框（或矩阵）；fix函数也可以调出文本编辑器，
- 数据交互
  collapsed:: true
	- 电脑文件管理
	  collapsed:: true
		- 路径
		  collapsed:: true
			- getwd函数可以返回工作目录，
			- setwd('C:/folder')可以更改工作目录，
		- 文件
			- 读取数据
			  collapsed:: true
				- `read.table`函数可以创建一个数据框，并将读取的表格形式的数据输入其中，
				  collapsed:: true
					- read.table函数有多个可选属性，应结合实际分析，
				- `read.fwf`函数可以读取一些固定宽度格式的数据，
				- scan函数可以指定变量的类型，
			- 存储数据
			  collapsed:: true
				- `write.table(object, file = 'file')`可以将`object`中的数据写入到`file`中，
				- save.image()函数可以保存工作空间（即环境中的变量等），
			- 脚本文件
			  collapsed:: true
				- source函数可以读取并执行指定的脚本文件，
				- sink函数将脚本输出至对应文件，append=TRUE参数可以将文本追加至文件后，
- 绘图
  collapsed:: true
	- 基本操作
	  collapsed:: true
		- x11函数可以打开一个空白的绘图窗口；没有激活的绘图窗口时，高级绘图函数也会自动开启一个新的窗口，
		- dev函数可以用来管理绘图窗口
		  collapsed:: true
			- list方法可以查看所有激活的窗口，set方法可以变更当前激活的窗口；new方法可以打开新的窗口，而off方法则可以关闭指定的窗口，
			- 高级绘图函数在创建新图形时，一般会覆盖原先的图形；可以通过dev函数开启多个窗口来创建多个图形，
	- 图形组合
	  collapsed:: true
		- layout函数接受一个矩阵参数，将图形窗口分割为多个部分，
		- par函数
		  collapsed:: true
			- 图形参数mfrow=c(nrows, ncols)可以创建行数为nrows，列数为ncols的图形矩阵（按行填充），mfcol参数则可以创建按列填充的图形矩阵，
			- fig参数可以在小区域创建单幅图形，
			- ？参数no.readonly=TRUE可以生成一个可以修改的当前图形参数列表，
	- 绘图函数
	  collapsed:: true
		- 高级绘图函数
		  collapsed:: true
			- plot函数可以根据x，y的取值绘制散点图，其中x、y向量的长度必须相等，
				- type参数可以自定义绘制点、线，
			- barplot可以创建条形图，boxplot可以创建箱线图，pie可以创建饼图，hist可以创建直方图，dotchart可以创建点图，
		- 低级绘图函数
		  collapsed:: true
			- 部分绘图函数只能在现存的图形上加入新的图形，而不能直接开启新的窗口并直接绘图；
			- title函数可以添加标题，axis函数可以创建自定义坐标轴，abline函数可以添加参考线， legend函数可以添加图例；
			- text、mtext函数可以添加文本，plotmath函数可以添加数学符号，
		- 绘图参数
		  collapsed:: true
			- par函数可以用于设定图形的特征，
			- 除了利用其它绘图函数之外，高级绘图函数也支持对部分绘图参数的自定义，
- 帮助
	- ?function，help(function)和help('function')函数都可以调出关于指定函数的帮助，
	- 默认情况下，help函数只会搜索默认的包；
	  collapsed:: true
		- 将try.all.package属性设置为TRUE，可以对所有包进行搜索，
		- package属性可以在具体的包中搜索函数的帮助，
	- example函数可以返回指定函数的使用示例，
- [[Science]]
-